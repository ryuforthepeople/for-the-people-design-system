@use "../../../dist/scss/tokens" as *;

$c: tooltip;

.#{$c}-wrapper {
  display: inline-block;
  position: relative;
}

.#{$c} {
  position: fixed;
  z-index: var(--tooltip-zIndex, $tooltip-zIndex);
  padding: var(--tooltip-padding-y, $tooltip-padding-y) var(--tooltip-padding-x, $tooltip-padding-x);
  background-color: var(--tooltip-background, $tooltip-background);
  color: var(--tooltip-text-color, $tooltip-text-color);
  font-size: var(--tooltip-text-fontSize, $tooltip-text-fontSize);
  border-radius: var(--tooltip-radius, $tooltip-radius);
  max-width: var(--tooltip-maxWidth, $tooltip-maxWidth);
  line-height: 1.4;
  word-wrap: break-word;
  pointer-events: none;
}

.#{$c}__content {
  display: block;
}

.#{$c}__arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-style: solid;
}

// Arrow size calculation (using CSS calc with fallback)
$arrow-size: var(--tooltip-arrow-size, $tooltip-arrow-size);

// Position: Top (arrow points down)
.#{$c}--top {
  .#{$c}__arrow {
    bottom: calc(-1 * #{$arrow-size});
    left: 50%;
    transform: translateX(-50%);
    border-width: #{$arrow-size} #{$arrow-size} 0 #{$arrow-size};
    border-color: var(--tooltip-background, $tooltip-background) transparent transparent transparent;
  }
}

// Position: Bottom (arrow points up)
.#{$c}--bottom {
  .#{$c}__arrow {
    top: calc(-1 * #{$arrow-size});
    left: 50%;
    transform: translateX(-50%);
    border-width: 0 #{$arrow-size} #{$arrow-size} #{$arrow-size};
    border-color: transparent transparent var(--tooltip-background, $tooltip-background) transparent;
  }
}

// Position: Left (arrow points right)
.#{$c}--left {
  .#{$c}__arrow {
    right: calc(-1 * #{$arrow-size});
    top: 50%;
    transform: translateY(-50%);
    border-width: #{$arrow-size} 0 #{$arrow-size} #{$arrow-size};
    border-color: transparent transparent transparent var(--tooltip-background, $tooltip-background);
  }
}

// Position: Right (arrow points left)
.#{$c}--right {
  .#{$c}__arrow {
    left: calc(-1 * #{$arrow-size});
    top: 50%;
    transform: translateY(-50%);
    border-width: #{$arrow-size} #{$arrow-size} #{$arrow-size} 0;
    border-color: transparent var(--tooltip-background, $tooltip-background) transparent transparent;
  }
}

// Transition animation
.#{$c}-fade-enter-active,
.#{$c}-fade-leave-active {
  transition: opacity 0.15s ease, transform 0.15s ease;
}

.#{$c}-fade-enter-from,
.#{$c}-fade-leave-to {
  opacity: 0;
}

.#{$c}-fade-enter-from.#{$c}--top,
.#{$c}-fade-leave-to.#{$c}--top {
  transform: translateY(4px);
}

.#{$c}-fade-enter-from.#{$c}--bottom,
.#{$c}-fade-leave-to.#{$c}--bottom {
  transform: translateY(-4px);
}

.#{$c}-fade-enter-from.#{$c}--left,
.#{$c}-fade-leave-to.#{$c}--left {
  transform: translateX(4px);
}

.#{$c}-fade-enter-from.#{$c}--right,
.#{$c}-fade-leave-to.#{$c}--right {
  transform: translateX(-4px);
}
